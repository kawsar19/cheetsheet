<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Api Cheatsheet</title>

  <!-- Vue.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>

  <!-- Bootstrap CSS and JS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Prism.js for colorful snippets -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #2c2c2c;
      color: #ffffff;
      margin: 0;
      padding: 0;
    }

    .cheatsheet {
      max-width: 800px;
      margin: 50px auto;
      background-color: #1e1e1e;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    h1 {
      text-align: center;
      color: #4caf50;
    }

    .search-bar {
      margin-bottom: 20px;
      position: sticky;
      top: 0;
      background-color: #272727;
      padding: 10px;
      border-radius: 5px;
      z-index: 999;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    .search-bar input {
      width: 100%;
      padding: 8px;
      border: 1px solid #4caf50;
      border-radius: 5px;
      background-color: #1e1e1e;
      color: #ffffff;
    }

    .snippet {
      position: relative;
      margin-bottom: 20px;
      padding: 15px;
      border: 1px solid #4caf50;
      border-radius: 5px;
      background-color: #272727;
      margin-inline: 20px;
    }

    h3 {
      margin: 0 0 10px;
      color: #ffffff;
    }

    .copy-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #4caf50;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .copy-btn:hover {
      background-color: #45a049;
    }

    pre {
      margin: 0;
      padding: 10px;
      background-color: #1e1e1e;
      border-radius: 4px;
      overflow-x: auto;
    }

    .footer {
      position: fixed;
      height: 50px;
      bottom: 0;
      left: 0;
      width: 100%;
      z-index: 999;
      background-color: #1e1e1e;
      display: flex;
      justify-content: space-around;
      padding: 10px;
      box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.3);
    }

    .footer a {
      color: #4caf50;
      text-decoration: none;
      font-weight: bold;
      padding: 10px 15px;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    .list-group-item.active {
      background-color: #4caf50;
      color: white;
    }

    .list-group-item.active a {
      color: #fff;
    }

    .list-group-item.active .text-black {
      color: #fff !important;
    }
  </style>
</head>


<body>
  <div id="app" class="cheatsheet">
    <h1>Api Cheatsheet </h1>

    <div class="search-bar">
      <input type="text" placeholder="Search snippets..." v-model="searchQuery" />
    </div>

    <div v-for="(item, index) in filteredSnippets" :key="index" class="snippet">
      <h3>{{ index + 1 }}. {{ item.title }}</h3>
      <pre><code class="language-javascript">{{ item.code }}</code></pre>
      <button class="copy-btn" @click="copyCode(index)">Copy</button>
    </div>

    <div class="footer">
      <a href="#home">Home</a>
      <a href="#" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu">Menu</a>
    </div>

    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasMenu" aria-labelledby="offcanvasMenuLabel">
      <div class="offcanvas-header">
        <h5 id="offcanvasMenuLabel">Menu</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <ul class="list-group">
          <li class="list-group-item" v-for="menuItem in menuItems" :key="menuItem.id" :class="{ active: isActive(menuItem.link) }">
            <a :href="menuItem.link" class="d-block text-decoration-none">
              <h5>{{ menuItem.title }}</h5>
              <p class="text-black">{{ menuItem.description }}</p>
            </a>
          </li>
        </ul>
      </div>

    </div>

  </div>

  <!-- Offcanvas Menu -->

  <script>
    new Vue({
      el: '#app',
      data: {
        snippets: [],
        searchQuery: '',
        menuItems: [] // To store fetched menu items
      },
      computed: {
        filteredSnippets() {
          if (!this.searchQuery) return this.snippets;
          return this.snippets.filter(item =>
            item.title.toLowerCase().includes(this.searchQuery.toLowerCase()) ||
            item.code.toLowerCase().includes(this.searchQuery.toLowerCase())
          );
        }
      },
      mounted() {

        // Fetch the JSON file for snippets
        fetch('/data/api.json')
          .then(response => response.json())
          .then(data => {
            this.snippets = data;
            this.$nextTick(() => {
              Prism.highlightAll(); // Highlight code after Vue renders the snippets
            });
          })
          .catch(error => console.error('Error loading snippets JSON:', error));

        // Fetch the JSON data for menu items
        fetch('/data/snippets.json') // Update the path as needed
          .then(response => response.json())
          .then(data => {
            this.menuItems = data;
          })
          .catch(error => console.error('Error loading menu JSON:', error));
      },
      methods: {
        copyCode(index) {
          const el = document.createElement('textarea');
          el.value = this.snippets[index].code;
          document.body.appendChild(el);
          el.select();
          document.execCommand('copy');
          document.body.removeChild(el);
          alert('Code copied!');
        },
        isActive(link) {
          return window.location.href.includes(link); // Check if the current hash matches the link
        }
      }
    });
  </script>
</body>

</html>